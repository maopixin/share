{"version":3,"file":"Share.js","sources":["../src/utils/index.ts","../src/data/options.ts","../src/main.ts"],"sourcesContent":["export function getMetaContentByName(name: string):string {\n    const ele = <HTMLMetaElement>document.getElementsByName(name)[0];\n    return ele ? ele.content : '';\n}\n\nexport function getFirstImage():string {\n    const ele = <HTMLImageElement>document.images[0];\n    return ele ? ele.src : '';\n}\n\nexport function getDataSet(cls:string):object {\n    const ele = <HTMLElement>document.querySelector(cls);\n    \n\tif(ele.dataset){\n\t\treturn JSON.parse(JSON.stringify(ele.dataset));\n\t}else{\n\t\tconst attrs:NamedNodeMap = ele.attributes;\n        const len:number = attrs.length;\n        let obj:object = {};\n        \n\t\tfor (let i = 0; i < len; i++) {\n            const item = attrs[i];\n\t\t\tlet key = item.name;\n\t\t\tif(key.indexOf(\"data-\") > -1){\n                key = key.replace(/^data-/i, '').replace(/-(\\w)/g, (all, letter) => letter.toUpperCase());\n                obj[key] = item.value;\n\t\t\t}\n\t\t}\n\t\treturn obj;\n\t}\n}","import { getMetaContentByName, getFirstImage } from '../utils';\n\nconst url = location.href;\nconst origin = location.origin;\nconst site = getMetaContentByName('site') || getMetaContentByName('Site') || document.title;\nconst title = getMetaContentByName('title') || getMetaContentByName('Title') || document.title;\nconst description = getMetaContentByName('description') || getMetaContentByName('Description');\nconst image = getFirstImage();\n\nexport default {\n    url,\n    origin,\n    source: site,\n    title,\n    description,\n    image,\n    imageSelector: undefined,\n    weiboKey: '',\n    wechatQrcodeTitle: '微信扫一扫：分享',\n    wechatQrcodeHelper: '<p>微信里点“发现”，扫一下</p><p>二维码便可将本文分享至朋友圈。</p>',\n    wechatQrcodeSize: 100,\n    sites: ['weibo', 'qq', 'wechat', 'douban', 'qzone', 'linkedin', 'facebook', 'twitter', 'google'],\n    mobileSites: [],\n    disabled: [],\n    initialized: false\n}","import defaults from './data/options';\nimport { getDataSet } from './utils';\nimport './style/index.less'\nclass Share {\n    el: string;\n    config: object;\n    constructor(el:string = '.custom-share', config:object = {}) {\n        const dataConfig = getDataSet(el);\n        this.config = Object.assign(defaults, dataConfig, config);\n        this.initialization();\n    };\n    initialization() {\n        console.log(this.config);\n    };\n};\nexport default Share;"],"names":[],"mappings":"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"}